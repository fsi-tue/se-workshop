<!DOCTYPE HTML>
<html lang="de" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Branching und Merging - Software Engineering / Teamprojekt Reference</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../einfuehrung.html">Einführung</a></li><li class="chapter-item expanded affix "><a href="../terminal.html">Terminal / Shell</a></li><li class="chapter-item expanded affix "><li class="part-title">Git</li><li class="chapter-item expanded "><a href="../git/einfuehrung.html"><strong aria-hidden="true">1.</strong> Git?!? Was ist das eigentlich?</a></li><li class="chapter-item expanded "><a href="../git/installation.html"><strong aria-hidden="true">2.</strong> Installation und Konfiguration von Git</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../git/installation_windows.html"><strong aria-hidden="true">2.1.</strong> Windows</a></li><li class="chapter-item expanded "><a href="../git/installation_macos.html"><strong aria-hidden="true">2.2.</strong> MacOS</a></li><li class="chapter-item expanded "><a href="../git/installation_linux.html"><strong aria-hidden="true">2.3.</strong> Linux</a></li></ol></li><li class="chapter-item expanded "><a href="../git/how_to_git.html"><strong aria-hidden="true">3.</strong> How to git</a></li><li class="chapter-item expanded "><a href="../git/datenmodel.html"><strong aria-hidden="true">4.</strong> Das Datenmodel</a></li><li class="chapter-item expanded "><a href="../git/datenmodell_git.html"><strong aria-hidden="true">5.</strong> Datenmodell in Git</a></li><li class="chapter-item expanded "><a href="../git/erstes_repository.html"><strong aria-hidden="true">6.</strong> Dein erstes Repository</a></li><li class="chapter-item expanded "><a href="../git/staging_working_area.html"><strong aria-hidden="true">7.</strong> Staging und Working Area</a></li><li class="chapter-item expanded "><a href="../git/checkout_und_reset.html"><strong aria-hidden="true">8.</strong> Checkout und Reset</a></li><li class="chapter-item expanded "><a href="../git/help.html"><strong aria-hidden="true">9.</strong> Help! I fucked up</a></li><li class="chapter-item expanded "><a href="../git/branching_und_merging.html" class="active"><strong aria-hidden="true">10.</strong> Branching und Merging</a></li><li class="chapter-item expanded "><a href="../git/rebase.html"><strong aria-hidden="true">11.</strong> Rebasing</a></li><li class="chapter-item expanded "><a href="../git/changing_history.html"><strong aria-hidden="true">12.</strong> Changing History</a></li><li class="chapter-item expanded "><a href="../git/tipps_und_tricks.html"><strong aria-hidden="true">13.</strong> Tipps und Tricks</a></li><li class="chapter-item expanded "><a href="../git/remotes.html"><strong aria-hidden="true">14.</strong> Remotes</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../git/cheatsheet.html"><strong aria-hidden="true">15.</strong> Cheatsheet</a></li><li class="chapter-item expanded affix "><li class="part-title">Softwareentwicklung</li><li class="chapter-item expanded "><a href="../softwareentwicklung.html"><strong aria-hidden="true">16.</strong> Softwareentwicklung</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Software Engineering / Teamprojekt Reference</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="branching-und-merging"><a class="header" href="#branching-und-merging">Branching und Merging</a></h1>
<h1 id="branching"><a class="header" href="#branching">Branching</a></h1>
<p>Wir haben bereits viele Commit Trees gesehen und meistens waren diese nicht nur linear, sondern hatten bereits mehrere Branches. Was Branches sind haben wir bereits gesehen, aber wie können wir diese erstellen.</p>
<p>Wir begeben uns in unserem Repository mittel <code>checkout</code> an den Commit, von dem wir aus einen neuen Branch erstellen wollen. Das kann ein Branch wie <code>main</code> sein oder auch ein Commit, der schon länger zurückliegt. Dort angekommen erstellen wir einen neuen Branch mit dem Befehl <code>git branch &lt;branch_name&gt;</code>.
Wollen wir also den Branch <code>feature/1</code> von <code>main</code> erstellen, machen wir folgendes:</p>
<pre><code class="language-bash">$ git checkout main
$ git branch feature/1
</code></pre>
<p>Bevor wir nun Commits unserm neunen Branch hinzufügen können, müssen wir noch auf unseren neu erstellten Branch wechseln:</p>
<pre><code class="language-bash">$ git checkout feature/1
</code></pre>
<p>Wahlweise können wir auch das Erstellen und Wechseln in einem Befehl durchführen:</p>
<pre><code class="language-bash">$ git checkout -b feature/1
</code></pre>
<blockquote>
<p>Die <code>-b</code> Flag steht hierbei für <code>branch</code>.</p>
</blockquote>
<p>In git gilt der Grundsatz: &quot;Branch early, branch often&quot;. Das heißt du wirst in der Regel mit vielen Branches konfrontiert sein. Diese alle über das Log zu verfolgen ist nicht immer sinnvoll. Solltest du einfach nur wissen wollen, welche Branches es gibt, kannst du das mit dem Befehl <code>git branch</code> tun.</p>
<pre><code class="language-bash">$ git branch
&gt; * feature/1
  main
</code></pre>
<p>Der aktuelle Branch (HEAD) ist mit einem <code>*</code> markiert.</p>
<p>Nach einem <a href="./branching_und_merging.html#Merging">Merge</a> oder <a href="./rebase_und_cherry_picking.html#Rebasing">Rebase</a>, wenn alle Änderungen auf einem anderen Branch übernommen worden sind, können wir den alten Branch löschen. Das machen wir mit dem Befehl <code>git branch -d &lt;branch_name&gt;</code>.</p>
<p>Sollten wir also <code>feature/1</code> wieder löschen wollen, schaut das wie folgt aus:</p>
<pre><code class="language-bash">    $ git branch -d feature/1
</code></pre>
<blockquote>
<p>Wie das Löschen wieder Rückgängig gemacht werden kann findest du <a href="./help.html">hier</a></p>
</blockquote>
<h1 id="merging"><a class="header" href="#merging">Merging</a></h1>
<p>Merging hatten wir bereits ganz am Anfang in Kombination mit dem Datenmodell angesprochen. Beim Merging wollen wir die Änderungen aus zwei unterscheidlichen Branches zusammenführen. Dabei wird die Änderungen des einen Branches mit einem Merge-Commit auf den anderen übernommen. Der Merge-Commit hat zwei oder mehrere Parent-Commits ist ansonsten aber identisch zu einem normalen Commit.</p>
<blockquote>
<p>Wichtig: Nur der Pointer des Zielbranches wird auf den Merge-Commit verschoben. Der Pointer vom Quellbranch bleibt unverändert.</p>
</blockquote>
<p>In git mergen wir mit dem Befehl <code>git merge &lt;quell_branch&gt;</code> der Zielbranch ist dabei immer der Branch auf dem sich grade HEAD befindet.</p>
<p>Schauen wir uns das denkbar einfachste Beispiel an:</p>
<pre><code class="language-mermaid">gitGraph

  commit id: &quot;ae3f3d&quot; type: HIGHLIGHT
  branch feature/1
  commit id: &quot;9ac33d&quot;
  checkout main
</code></pre>
<pre><code class="language-bash">$ git merge feature/1
</code></pre>
<pre><code class="language-mermaid">gitGraph

commit id: &quot;ae3f3d&quot;
branch feature/1
commit id: &quot;9ac33d&quot;
checkout main
merge feature/1 type: HIGHLIGHT id: &quot;b3f3d3&quot;
</code></pre>
<p>Alle Änderungen von <code>feature/1</code> wurden auf <code>main</code> übernommen. Auf <code>feature/1</code> hat sich nichts verändert. Es befinden sich dort nur die Commits, die es auch schon vorher gab.</p>
<h2 id="fast-forward-merges"><a class="header" href="#fast-forward-merges">Fast-Forward Merges</a></h2>
<p>Sollten wir jetzt auf <code>main</code> ein paar Commits hinzufügen und dann <code>main</code> in <code>feature/1</code> mergen (andersherum als vorhin), wird interessanter Weise kein neuer Merge-Commit erstellt.</p>
<pre><code class="language-mermaid">gitGraph

commit id: &quot;ae3f3d&quot;
branch feature/1
commit id: &quot;9ac33d&quot;
checkout main
merge feature/1  id: &quot;b3f3d3&quot;
commit id: &quot;3f3f3f&quot;
commit id: &quot;52acd8&quot; type: HIGHLIGHT
</code></pre>
<pre><code class="language-bash">$ git checkout feature/1
$ git merge main
</code></pre>
<pre><code class="language-mermaid">gitGraph

commit id: &quot;ae3f3d&quot;
branch feature/1
commit id: &quot;9ac33d&quot;
checkout main
merge feature/1
commit id: &quot;3f3f3f&quot;
commit id: &quot;52acd8&quot;
checkout feature/1
merge main type: HIGHLIGHT
</code></pre>
<p>Unser aktueller HEAD ist kein neuer Commit (kein Hash), sondern stattdessen wir der Pointer von feature/1 einfach auf den letzten Commit von <code>main</code> gesetzt. Git erkennt, dass es keine Änderungen auf <code>feature/1</code> gibt, die nicht auch auf <code>main</code> sind und somit <code>main</code> und <code>feature/1</code> identisch sind. Ein solcher Merge wird als Fast-Forward Merge bezeichnet.</p>
<blockquote>
<p>Fast Forwad Merges garantieren einen konfliktfreien Merge. Das bedeutet, dass es keine Merge-Konflikte geben kann.</p>
</blockquote>
<h1 id="merge-conflicts"><a class="header" href="#merge-conflicts">Merge Conflicts</a></h1>
<p>Im starken Kontrast zu Fast-Forward Merges stehen Merge Konflikte. Diese entstehen, wenn Änderungen auf zwei Branches gemacht wurden, die sich gegenseitig widersprechen. Git ist dann nicht mehr in der Lage automatisch beide Dateien zusammenzuführen und ein manueller Eingriff ist erforderlich.</p>
<p>Unser Commit Tree schaut aktuell wie folgt aus.</p>
<pre><code class="language-mermaid">gitGraph

commit id: &quot;ae3f3d&quot;
branch feature/1
commit id: &quot;9ac33d&quot;
checkout main
commit id: &quot;782ca2&quot; type: HIGHLIGHT
</code></pre>
<p>Im ersten Commit (<code>ae3f3d</code>) haben wir die Datei foo.txt mit dem Inhalt <code>Hello World</code> erstellt. Im zweiten Commit (<code>9ac33d</code>, feature/1) haben wir die Datei foo.txt auf <code>Hello Alice!</code> geändert. Und auf <code>main</code> haben wir die Datei foo.txt auf <code>Hello Bob!</code> geändert.</p>
<pre><code class="language-bash"># == Ursprünglich ==
$ git checkout ae3f3d
$ cat foo.txt
&gt; Hello World

# == main ==
$ git checkout main
$ cat foo.txt
&gt; Hello Alice!

# == feature/1 ==
$ git checkout feature/1
$ cat foo.txt
&gt; Hello Bob!
</code></pre>
<p>Wenn wir jetzt <code>feature/1</code> in <code>main</code> mergen wollen, wird es zwangsweise zu einem Merge-Konflikt kommen, da nicht klar ist ob es &quot;Hello Alice&quot; oder &quot;Hello Bob&quot; heißen soll.</p>
<pre><code class="language-bash">$ git checkout main
$ git merge feature/1
&gt; Auto-merging foo.txt
  CONFLICT (content): Merge conflict in foo.txt
  Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>Wie wir sehen, ist es zu einem Konflikt gekommen. Git hat versucht die Datei foo.txt automatisch zusammenzuführen, ist aber gescheitert. Es wurde somit auch noch kein Merge-Commit erstellt. Jediglich der Merge-Konflikt wurde in der Datei foo.txt markiert. Deshalb zeigt uns <code>git status</code> auch eine Änderung an der Datei <code>foo.txt</code> an:</p>
<pre><code class="language-bash">$ git status
&gt; On branch main
  You have unmerged paths.
    (fix conflicts and run &quot;git commit&quot;)
    (use &quot;git merge --abort&quot; to abort the merge)

  Unmerged paths:
    (use &quot;git add &lt;file&gt;...&quot; to mark resolution)
	  both modified:   foo.txt

  no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)

</code></pre>
<p>Schauen wir uns mal an wie so ein Merge-Konflikt in der Datei aussieht:</p>
<pre><code class="language-bash">$ cat foo.txt
&gt; &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
  Hello Alice!
  =======
  Hello Bob!
  &gt;&gt;&gt;&gt;&gt;&gt;&gt; feature/1
</code></pre>
<p>Die Datei wurde in zwei Teile aufgeilt. Oben befindet sich immer der Stand von HEAD also in unserem Fall <code>main</code>. Ein <code>=======</code> trennt beide Teile. Unten befindet sich der Stand von <code>feature/1</code>. Um den Konflikt zu lösen, müssen wir die Datei so bearbeiten, dass sie nur noch den gewünschten Stand enthält und alle Konflikt-Markierungen entfernt sind. In unserem Fall wollen wir <code>Hello Alice!</code> und <code>Hello Bob!</code> zu <code>Hello Alice and Bob!</code> zusammenführen. Wir ändern das in unserem Editor und speichern die Datei. Jetzt schaut <code>foo.txt</code> so aus:</p>
<pre><code class="language-bash">$ cat foo.txt
&gt; Hello Alice and Bob!
</code></pre>
<p>Um git mitzuteilen, dass wir den Konflikt zu unserer Zufriedenheit gelöst haben, müssen wir die Datei <code>foo.txt</code> mit <code>git add</code> der Staging Area hinzufügen und dann einen ganz normalen Commit erstellen.</p>
<pre><code class="language-bash">$ git add foo.txt
$ git commit -m &quot;Merge feature/1 into main&quot;
</code></pre>
<blockquote>
<p>Solltet ihr während des Merge-Prozesses feststellen, dass ihr einen Fehler gemacht habt oder noch nicht bereit für den Merge seit, könnt ihr jederzeit den Merge mit <code>git merge --abort</code> abbrechen. Damit werden alle Änderungen zurückgestzt als ob der Merge nie angefangen wurde.</p>
</blockquote>
<p>Unser Commit Tree sieht jetzt wie ein normaler Merge aus:</p>
<pre><code class="language-mermaid">
gitGraph

commit id: &quot;ae3f3d&quot;
branch feature/1
commit id: &quot;9ac33d&quot;
checkout main
commit id: &quot;782ca2&quot;
merge feature/1 id: &quot;ac3e12&quot; type: HIGHLIGHT
</code></pre>
<p>Egal welche Art von Konflikt ihr in git habt, die Lösung folgt immer dem gleichen Schema:</p>
<ol>
<li>Konflikt in der Datei beheben und speichern</li>
<li><code>git add</code> um die Datei in die Staging Area zu legen</li>
<li>
<ul>
<li>Für einen Merge-Konflikt einen Commit mit <code>git commit</code> erstellen.</li>
<li>Für einen Rebase-Konflikt mit <code>git rebase --continue</code> fortfahren.</li>
</ul>
</li>
</ol>
<blockquote>
<p>Im Allgemeinen lohnt es sich immer den git Status abzufragen (<code>git status</code>). Hier werden alle notwendigen Schritte beschrieben um den Konflikt zu lösen oder abbzubrechen.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../git/help.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../git/rebase.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../git/help.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../git/rebase.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>


    </div>
    </body>
</html>
